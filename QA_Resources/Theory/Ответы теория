ТЕОРЕТИЧЕСКАЯ ЧАСТЬ: Микросервисная архитектура

Вопрос 1: Что такое микросервисная архитектура, её плюсы и минусы?

Микросервисная архитектура** — это подход к разработке приложений, при котором система разделяется на множество маленьких,
 независимых сервисов, каждый из которых отвечает за отдельную функцию и может разворачиваться отдельно.

Плюсы:
- Масштабируемость — каждый сервис можно масштабировать отдельно
- Гибкость — разные сервисы могут использовать разные технологии
- Надежность — отказ одного сервиса не влияет на другие
- Быстрое развертывание и обновления
- Легче разделить работу между командами

Минусы:
- Сложность интеграции и тестирования
- Проблемы с консистентностью данных
- Увеличена сетевая нагрузка
- Усложненный debugging и мониторинг
- Нужна хорошая инфраструктура (Docker, K8s и т.д.)

_______________________________________________________________________________________________________________________________________________

Вопрос 2: Какие виды тестирования критичны для микросервисов?

Критичные типы тестирования:

1. **Unit-тесты** — проверка отдельных функций каждого сервиса
2. **Integration-тесты** — проверка взаимодействия между сервисами
3. **Contract-тесты** — проверка соответствия контрактов между сервисами
4. **API-тесты** — валидация REST/gRPC endpointов
5. **End-to-End (E2E) тесты** — полный сценарий через все сервисы
6. **Load-тесты** — проверка под нагрузкой
7. **Chaos-тесты** — проверка отказоустойчивости при сбоях

_______________________________________________________________________________________________________________________________________________

Вопрос 3: Что такое Contract testing и зачем оно нужно?

Contract Testing — это тестирование соглашений (контрактов) между сервисами. Каждый сервис проверяет, что соседние сервисы возвращают данные в ожидаемом формате.

Зачем нужно:
- Убедиться, что сервисы совместимы между собой
- Найти ошибки интеграции без полного развертывания всей системы
- Ускорить разработку (каждая команда может тестировать свой сервис)
- Избежать проблем при обновлении API

Инструменты:
- Pact
- Spring Cloud Contract
- Dredd

_______________________________________________________________________________________________________________________________________________

Вопрос 4: Какие проблемы могут возникнуть при интеграции микросервисов?

1. **Согласованность данных** — сложно гарантировать консистентность данных между сервисами
2. **Сетевые задержки и отказы** — сервисы могут быть недоступны
3. **Логирование и трейсинг** — сложно отследить запрос через все сервисы
4. **Versioning API** — управление версиями при изменении контрактов
5. **Distributed transactions** — сложные транзакции, затрагивающие несколько сервисов
6. **Циклические зависимости** — между сервисами могут возникнуть циклы
7. **Балансировка нагрузки** — правильное распределение запросов

_______________________________________________________________________________________________________________________________________________

Вопрос 5: Как тестировать систему при недоступности сервисов?

Подходы:

1. **Mock/Stub** — замена недоступного сервиса на mock-объект с заданным поведением
2. **Contract-testing** — тестирование без полного взаимодействия
3. **Chaos engineering** — специально вызывать сбои и проверять отказоустойчивость
4. **Circuit breaker** — использовать паттерны для обработки отказов
5. **Retry logic** — повторные попытки подключения
6. **Fallback** — откатываться на альтернативный механизм
7. **Service virtualization** — использовать виртуализированные сервисы вместо реальных
8. **Test containers** — запускать зависимости в контейнерах для тестов

Инструменты:
- WireMock
- TestContainers
- Chaos Monkey
- Resilience4j
_______________________________________________________________________________________________________________________________________________